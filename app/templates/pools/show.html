{% extends 'layouts/base.html' %}

{% block title %}Pool # {{ pool.id }}{% endblock %}

{% block secondary_links %}{{ helpers.base.render_template("pools/_secondary_links.html", pool=pool) | safe }}{% endblock %}

{% block content %}
    <div id="pool-content">
        <div class="heading" style="font-size: 32px">Pool #{{ pool.id }}</div>
        <div class="heading" style="font-size: 24px"><strong>Name:</strong> {{ pool.name }}</div>
        <div id="pool-items">
            {% for item in elements.items %}
                <div style="display: inline-block; height: 480px; vertical-align: top; margin: 0.25em; padding: 0.5em; border: 1px solid #EEE; min-width: 300px;">
                    <div class="heading" style="font-size: 24px;"><a href="{{ item.show_url }}">{{ item.shortlink }}</a></div>
                    <div>
                        <div style="display: block; height: 320px; margin-left: 1em;">
                            {% if helpers.pool.ItemIsOfType(item, 'post') %}
                                {{ helpers.post.Preview(item) | safe }}
                            {% elif helpers.pool.ItemIsOfType(item, 'illust') %}
                                {{ helpers.illust.PostPreviews(item) }}
                            {% elif helpers.pool.ItemIsOfType(item, 'notation') %}
                                <div style="word-break: break-word; width: 315px; max-height: 425px; overflow-y: auto;">{{ helpers.notation.ConvertToHTML(item) }}</div>
                            {% endif %}
                        </div>
                        {% if helpers.pool.ItemIsOfTypes(item, ['post', 'illust']) %}
                            <div style="display: block; vertical-align: top; max-height: 125px; overflow-y: auto; background-color: #F8F8F8; border: 1px solid #DDD; width: 310px; font-size: 14px;">
                                <ul style="min-height: 120px; display: inline-block; width: 100px; vertical-align: top;">
                                    <li style="margin-bottom: 0.5em;"><strong>Type:</strong> <code>{{ helpers.pool.MediaType(item) }}</code></li>
                                    <li style="margin-bottom: 0.5em;"><strong>Artists:</strong>
                                        {% if helpers.pool.ItemIsOfType(item, 'post') %}
                                            {{ helpers.pool.DisplayArtists(item.artist_ids) | safe }}
                                        {% elif helpers.pool.ItemIsOfType(item, 'illust') %}
                                            {{ helpers.pool.DisplayArtists([item.artist_id]) | safe }}
                                        {% endif %}
                                    </li>
                                    {% if helpers.pool.ItemIsOfType(item, 'post') %}
                                        <li style="margin-bottom: 0.5em;"><strong>Illusts:</strong>
                                            {{ helpers.pool.DisplayIllusts(item.illust_ids) | safe }}
                                        </li>
                                    {% endif %}
                                </ul>
                                <ul style="min-height: 120px; display: inline-block; width: 160px; vertical-align: top;">
                                    {% if helpers.base.HasItems(item.notations) %}
                                        <li><strong>Notations:</strong>
                                            {% with notations=item.notations %}
                                                {% include "notations/_list.html" %}
                                            {% endwith %}
                                        </li>
                                    {% endif %}
                                </ul>
                            </div>
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}
{% block pages %}{{ helpers.base.PageNavigation(elements) }}{% endblock %}
