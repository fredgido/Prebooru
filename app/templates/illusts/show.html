{% extends 'illusts/_base.html' %}

{% block title %}Illust # {{ illust.id }}{% endblock %}

{% block content %}
    <div class="heading" style="font-size: 32px">Illust #{{ illust.id }}</div>
    <div id="artist-content" style="margin-top: 2em; display: flex">
        {{ helpers.base.RenderTemplate("illusts/_sidebar.html", illust=illust) }}
        {{ helpers.base.RenderTemplate("illusts/_site_content.html", illust=illust) }}
    </div>
    <div id="illust-posts" style="margin-top: 2em;">
        {% if illust.type == 'video' %}
            {{ helpers.base.RenderTemplate("illusts/_video_posts.html", illust=illust) }}
        {% elif illust.type == 'image' %}
            {{ helpers.base.RenderTemplate("illusts/_image_posts.html", illust=illust) }}
        {% endif %}
    </div>
{% endblock %}

{% block pagescript %}
<script>
function IllustCreatePool(obj) {
    let illust_id = obj.dataset.illustId;
    console.log(illust_id);
    let pool_id = prompt("Enter pool # to add to:");
    if (pool_id !== null) {
        console.log(pool_id);
        Prebooru.postRequest(obj.href, {'pool_element[pool_id]': pool_id, 'pool_element[illust_id]': illust_id});
    }
    return false;
}
</script>
{% endblock %}